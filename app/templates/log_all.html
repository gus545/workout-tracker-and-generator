<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Log All Sets</title>
</head>
<body>
  <h1>Log Your Workout</h1>
  <form method="POST">
    {% for s in sets %}
      <fieldset style="margin-bottom: 2em;">
        <legend>{{ s.workout_name }} - Set {{ s.set_number }}</legend>

        <input type="hidden" name="workout_name_{{ loop.index0 }}" value="{{ s.workout_name }}">
        <input type="hidden" name="exercise_id_{{ loop.index0 }}" value="{{ s.exercise_id }}">
        <input type="hidden" name="set_number_{{ loop.index0 }}" value="{{ s.set_number }}">
        <label>Weight:</label>
        <input type="number" name="actual_weight_{{ loop.index0 }}" value="{{ s.expected_weight }}" step="0.1" required><br>

        <label>Reps:</label>
        <input type="number" name="actual_reps_{{ loop.index0 }}" value="{{ s.expected_reps }}" required><br>

        <label>Notes:</label>
        <textarea name="notes_{{ loop.index0 }}"></textarea>
      </fieldset>
    {% endfor %}

    <button type="submit">Submit All Sets</button>
  </form>
</body>
</html>
